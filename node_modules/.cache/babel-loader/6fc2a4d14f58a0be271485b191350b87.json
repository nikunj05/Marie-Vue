{"remainingRequest":"C:\\xampp\\htdocs\\booking-master\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\booking-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\xampp\\htdocs\\booking-master\\src\\store\\modules\\modelsapi.js","dependencies":[{"path":"C:\\xampp\\htdocs\\booking-master\\src\\store\\modules\\modelsapi.js","mtime":1593156346000},{"path":"C:\\xampp\\htdocs\\booking-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\booking-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\booking-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXHhhbXBwXFxodGRvY3NcXGJvb2tpbmctbWFzdGVyXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vc2Vzc2lvbic7CmV4cG9ydCBkZWZhdWx0IHsKICAvL0dsb2JhbCBTdGF0ZQogIHN0YXRlOiB7CiAgICBzZXNzaW9uOiBudWxsLAogICAgbW9kZWxzOiBbXSwKICAgIHNpdGVzOiBbXSwKICAgIHRvdGFsRGF5czogJycsCiAgICBTZWxlY3RGb3JtOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVTZXNzaW9uOiBmdW5jdGlvbiB1cGRhdGVTZXNzaW9uKHN0YXRlLCB2YWx1ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2Vzc2lvbiA9IHZhbHVlOwogICAgfSwKICAgIHVwZGF0ZU1vZGVsczogZnVuY3Rpb24gdXBkYXRlTW9kZWxzKHN0YXRlLCB2YWx1ZSkgewogICAgICByZXR1cm4gc3RhdGUubW9kZWxzID0gdmFsdWU7CiAgICB9LAogICAgdXBkYXRlU2l0ZXM6IGZ1bmN0aW9uIHVwZGF0ZVNpdGVzKHN0YXRlLCB2YWx1ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2l0ZXMgPSB2YWx1ZTsKICAgIH0sCiAgICB1cGRhdGVUb3RhbERheXM6IGZ1bmN0aW9uIHVwZGF0ZVRvdGFsRGF5cyhzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUudG90YWxEYXlzID0gdmFsdWU7CiAgICB9LAogICAgdXBkYXRlU2VsZWN0Rm9ybTogZnVuY3Rpb24gdXBkYXRlU2VsZWN0Rm9ybShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuU2VsZWN0Rm9ybSA9IHZhbHVlOwogICAgICBzdGF0ZS5TZWxlY3RGb3JtLnRvdGFsRGF5cyA9IHN0YXRlLnRvdGFsRGF5czsKICAgICAgY29uc29sZS5sb2coc3RhdGUuU2VsZWN0Rm9ybS50b3RhbERheXMpOwogICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvL3VwZGF0aW5nIHRvdGFsRGF5cyBpbiBnbG9iYWwgc3RhdGUgaW4gdnVleAogICAgY2hlY2tUb3RhbERheXM6IGZ1bmN0aW9uIGNoZWNrVG90YWxEYXlzKF9yZWYsIHRvdGFsRGF5cykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBjb21taXQoInVwZGF0ZVRvdGFsRGF5cyIsIHRvdGFsRGF5cyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL3JlZnJlc2ggZXhwaXJlZCB0b2tlbiAsIHRpbWVvdXQKICAgIGNoZWNrU2Vzc2lvbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NoZWNrU2Vzc2lvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjIpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgc2Vzc2lvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0LCBzdGF0ZSA9IF9yZWYyLnN0YXRlOwoKICAgICAgICAgICAgICAgIGlmICghKCFzdGF0ZS5zZXNzaW9uIHx8ICFzdGF0ZS5zZXNzaW9uLnRpbWVvdXQgfHwgbmV3IERhdGUoKSA+IG5ldyBEYXRlKHN0YXRlLnNlc3Npb24udGltZW91dCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSS5nZXRTZXNzaW9uKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHNlc3Npb24gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlU2Vzc2lvbicsIHNlc3Npb24pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjaGVja1Nlc3Npb24oX3gpIHsKICAgICAgICByZXR1cm4gX2NoZWNrU2Vzc2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY2hlY2tTZXNzaW9uOwogICAgfSgpLAogICAgLy9wYXNzIHRva2VuIHRvIGhlYWRlcnMgYW5kIGNhbGwgL2Jvb2tpbmcvbW9kZWxzCiAgICBzdGFydFNlc3Npb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdGFydFNlc3Npb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKF9yZWYzKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBjb21taXQsIHN0YXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoLCBjb21taXQgPSBfcmVmMy5jb21taXQsIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2NoZWNrU2Vzc2lvbicpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5zZXNzaW9uKTsgLy8gYXBpIGNhbGwgaGVyZQoKICAgICAgICAgICAgICAgIGF4aW9zLmdldCgiL2Jvb2tpbmcvbW9kZWxzIiwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ1gtQVBJLVRva2VuJzogc3RhdGUuc2Vzc2lvbi50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIG1vZGVscyA9IHJlcy5kYXRhLm1vZGVsczsKICAgICAgICAgICAgICAgICAgdmFyIHNpdGVzID0gcmVzLmRhdGEuc2l0ZXM7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnNpdGVzKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVNb2RlbHMnLCBtb2RlbHMpOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZVNpdGVzJywgc2l0ZXMpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtb2RlbHMpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgJyArIGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29vb3BzJyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc3RhcnRTZXNzaW9uKF94MikgewogICAgICAgIHJldHVybiBfc3RhcnRTZXNzaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGFydFNlc3Npb247CiAgICB9KCksCiAgICAvL3VwZGF0aW5nIFNlbGVjdEZvcm0gaW4gdnVleCBzdG9yZSBzdGF0ZQogICAgc2VuZFNlbGVjdEZvcm06IGZ1bmN0aW9uIHNlbmRTZWxlY3RGb3JtKF9yZWY0LCBTZWxlY3RGb3JtKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbW1pdCgidXBkYXRlU2VsZWN0Rm9ybSIsIFNlbGVjdEZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldFNlc3Npb246IGZ1bmN0aW9uIGdldFNlc3Npb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlc3Npb247CiAgICB9LAogICAgZ2V0TW9kZWxzOiBmdW5jdGlvbiBnZXRNb2RlbHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1vZGVsczsKICAgIH0sCiAgICBnZXRTaXRlczogZnVuY3Rpb24gZ2V0U2l0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNpdGVzOwogICAgfSwKICAgIGdldFRvdGFsRGF5czogZnVuY3Rpb24gZ2V0VG90YWxEYXlzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b3RhbERheXM7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9Ow=="},{"version":3,"sources":["C:/xampp/htdocs/booking-master/src/store/modules/modelsapi.js"],"names":["axios","API","state","session","models","sites","totalDays","SelectForm","mutations","updateSession","value","updateModels","updateSites","updateTotalDays","updateSelectForm","console","log","actions","checkTotalDays","commit","checkSession","timeout","Date","getSession","startSession","dispatch","get","headers","token","then","res","data","catch","err","sendSelectForm","getters","getModels","getSites","getTotalDays","modules"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport * as API from './session';\n\nexport default {\n  //Global State\n    state: {\n        session: null,\n        models: [],\n        sites: [],\n        totalDays: '',\n        SelectForm: {},\n\n      },\n      mutations: {\n        updateSession: (state, value) => state.session = value,\n        updateModels: (state, value) => state.models = value,\n        updateSites: (state, value) => state.sites = value,\n        updateTotalDays: (state,value) => {\n          state.totalDays=value\n        },\n        updateSelectForm: (state, value) =>{state.SelectForm = value \n          state.SelectForm.totalDays=state.totalDays\n          console.log(state.SelectForm.totalDays)\n          console.log(value)} \n      },\n      actions: {\n        //updating totalDays in global state in vuex\n        async checkTotalDays({ commit }, totalDays) {\n         commit(\"updateTotalDays\", totalDays);\n        },\n          //refresh expired token , timeout\n        checkSession: async ({ commit, state }) => {\n          if (!state.session || !state.session.timeout || new Date() > new Date(state.session.timeout)) {\n            const session = await API.getSession();\n            commit('updateSession', session);\n          }\n        },\n\n        //pass token to headers and call /booking/models\n        startSession: async ({ dispatch, commit, state }) => {\n          try {\n            await dispatch('checkSession');\n            console.log(state.session);\n\n            // api call here\n            axios.get( `/booking/models`, { headers: \n                {\n                'X-API-Token': state.session.token, \n                }\n            })\n             .then(res => {\n                 const models = res.data.models\n                 const sites =res.data.sites\n                 console.log(res.data.sites)\n                 commit('updateModels', models)\n                 commit('updateSites', sites )\n               console.log(res)\n               console.log(models)\n             })\n             .catch((err) => {\n              console.log('error ' + err);\n            });\n          } catch (e) {\n            console.log('ooops');\n          }\n        },\n       \n        //updating SelectForm in vuex store state\n        async sendSelectForm({ commit }, SelectForm) {\n          commit(\"updateSelectForm\", SelectForm);\n         },\n      },\n      getters: {\n        getSession: state => state.session,\n        getModels: state => state.models,\n        getSites: state => state.sites,\n        getTotalDays: state => state.totalDays\n      },\n      modules: {\n      }\n}"]}]}